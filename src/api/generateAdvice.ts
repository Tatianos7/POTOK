import { UserGoalData, AiAdviceResponse } from '../types/aiAdvice';
import { buildNutritionPrompt, buildTrainingPrompt } from '../utils/promptBuilder';

/**
 * API endpoint –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI-—Å–æ–≤–µ—Ç–æ–≤
 * 
 * TODO: replace stub with OpenAI / Claude / Gemini
 * 
 * @param data - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–≤–µ—Ç–æ–≤
 * @returns Promise —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
 */
export async function generateAdvice(data: UserGoalData): Promise<AiAdviceResponse> {
  // TODO: replace stub with OpenAI / Claude / Gemini
  
  // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ API-–∑–∞–ø—Ä–æ—Å–∞
  await new Promise(resolve => setTimeout(resolve, 1000));

  // –§–æ—Ä–º–∏—Ä—É–µ–º –ø—Ä–æ–º–ø—Ç—ã
  const nutritionPrompt = buildNutritionPrompt(data);
  const trainingPrompt = buildTrainingPrompt(data);

  // –ó–∞–≥–ª—É—à–∫–∞: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤
  // –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ AI API
  const nutritionAdvice = generateNutritionStub(data, nutritionPrompt);
  const trainingAdvice = generateTrainingStub(data, trainingPrompt);

  return {
    nutrition: nutritionAdvice,
    training: trainingAdvice,
  };
}

/**
 * –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –ø–∏—Ç–∞–Ω–∏—é
 * –í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ –≤—ã–∑–æ–≤ AI API
 */
function generateNutritionStub(data: UserGoalData, prompt: string): string {
  const goalLabel = 
    data.goal === 'lose' ? '–ø–æ—Ö—É–¥–µ–Ω–∏–µ' :
    data.goal === 'gain' ? '–Ω–∞–±–æ—Ä –º–∞—Å—Å—ã' : '–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã';

  let advice = `–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –¥–ª—è ${data.gender === 'male' ? '–º—É–∂—á–∏–Ω—ã' : '–∂–µ–Ω—â–∏–Ω—ã'} ${data.age} –ª–µ—Ç, –≤–µ—Å ${data.weight} –∫–≥.\n\n`;

  advice += `üìä –í–ê–®–ò –¶–ï–õ–ï–í–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò:\n`;
  advice += `‚Ä¢ –ö–∞–ª–æ—Ä–∏–∏: ${data.calories} –∫–∫–∞–ª/–¥–µ–Ω—å\n`;
  advice += `‚Ä¢ –ë–µ–ª–∫–∏: ${data.protein} –≥/–¥–µ–Ω—å\n`;
  advice += `‚Ä¢ –ñ–∏—Ä—ã: ${data.fat} –≥/–¥–µ–Ω—å\n`;
  advice += `‚Ä¢ –£–≥–ª–µ–≤–æ–¥—ã: ${data.carbs} –≥/–¥–µ–Ω—å\n\n`;

  if (data.goal === 'lose') {
    advice += `üéØ –¶–ï–õ–¨: –ü–û–•–£–î–ï–ù–ò–ï\n`;
    if (data.targetWeight) {
      advice += `–¶–µ–ª–µ–≤–æ–π –≤–µ—Å: ${data.targetWeight} –∫–≥ (–Ω—É–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å ${(data.weight - data.targetWeight).toFixed(1)} –∫–≥)\n`;
    }
    if (data.intensity) {
      advice += `–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: –¥–µ—Ñ–∏—Ü–∏—Ç ${data.intensity}% –æ—Ç TDEE\n`;
    }
    advice += `\nüìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:\n`;
    advice += `‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π ${data.calories} –∫–∫–∞–ª/–¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –ï—à—å—Ç–µ ${data.protein} –≥ –±–µ–ª–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã\n`;
    advice += `‚Ä¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∏–µ–º—ã –ø–∏—â–∏: 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 2 –ø–µ—Ä–µ–∫—É—Å–∞\n`;
    advice += `‚Ä¢ –ü–µ–π—Ç–µ 2-2.5 –ª–∏—Ç—Ä–∞ –≤–æ–¥—ã –≤ –¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ: —Å–∞—Ö–∞—Ä, —Ñ–∞—Å—Ç—Ñ—É–¥, –∞–ª–∫–æ–≥–æ–ª—å, —Å–ª–∞–¥–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏\n`;
    advice += `‚Ä¢ –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, —Ä—ã–±–∞, –æ–≤–æ—â–∏, –∫—Ä—É–ø—ã, —è–π—Ü–∞\n\n`;
  } else if (data.goal === 'gain') {
    advice += `üéØ –¶–ï–õ–¨: –ù–ê–ë–û–† –ú–ê–°–°–´\n`;
    advice += `\nüìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:\n`;
    advice += `‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π ${data.calories} –∫–∫–∞–ª/–¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –£–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ ${data.protein} –≥ –±–µ–ª–∫–∞ –¥–ª—è —Ä–æ—Å—Ç–∞ –º—ã—à—Ü\n`;
    advice += `‚Ä¢ –ï—à—å—Ç–µ 4-5 —Ä–∞–∑ –≤ –¥–µ–Ω—å —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 3-4 —á–∞—Å–∞\n`;
    advice += `‚Ä¢ –ü–µ–π—Ç–µ 2.5-3 –ª–∏—Ç—Ä–∞ –≤–æ–¥—ã –≤ –¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –í–∫–ª—é—á–∏—Ç–µ: —Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã (—Ä–∏—Å, –≥—Ä–µ—á–∫–∞, –æ–≤—Å—è–Ω–∫–∞), –ø–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã (–æ—Ä–µ—Ö–∏, –∞–≤–æ–∫–∞–¥–æ)\n`;
    advice += `‚Ä¢ –ü–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: –±–µ–ª–æ–∫ + —É–≥–ª–µ–≤–æ–¥—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 30-60 –º–∏–Ω—É—Ç\n\n`;
  } else {
    advice += `üéØ –¶–ï–õ–¨: –ü–û–î–î–ï–†–ñ–ê–ù–ò–ï –§–û–†–ú–´\n`;
    advice += `\nüìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:\n`;
    advice += `‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –±–∞–ª–∞–Ω—Å –∫–∞–ª–æ—Ä–∏–π ${data.calories} –∫–∫–∞–ª/–¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –°–æ–±–ª—é–¥–∞–π—Ç–µ –ë–ñ–£: ${data.protein}–≥ –±–µ–ª–∫–∞, ${data.fat}–≥ –∂–∏—Ä–æ–≤, ${data.carbs}–≥ —É–≥–ª–µ–≤–æ–¥–æ–≤\n`;
    advice += `‚Ä¢ –ï—à—å—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ: 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏\n`;
    advice += `‚Ä¢ –ü–µ–π—Ç–µ 2-2.5 –ª–∏—Ç—Ä–∞ –≤–æ–¥—ã –≤ –¥–µ–Ω—å\n`;
    advice += `‚Ä¢ –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ: –±–µ–ª–∫–∏, —Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã, –ø–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã\n`;
    advice += `‚Ä¢ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ: —Å–∞—Ö–∞—Ä, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã\n\n`;
  }

  advice += `üçΩ –ü–†–ò–ú–ï–†–ù–´–ô –†–ê–¶–ò–û–ù –ù–ê –î–ï–ù–¨:\n`;
  advice += `\n–ó–∞–≤—Ç—Ä–∞–∫ (${Math.round(data.calories * 0.25)} –∫–∫–∞–ª):\n`;
  advice += `‚Ä¢ –û–≤—Å—è–Ω–∫–∞ —Å —è–≥–æ–¥–∞–º–∏ –∏ –æ—Ä–µ—Ö–∞–º–∏\n`;
  advice += `‚Ä¢ –ò–ª–∏ —è–∏—á–Ω–∏—Ü–∞ —Å –æ–≤–æ—â–∞–º–∏ –∏ —Ö–ª–µ–±–æ–º\n\n`;
  
  advice += `–û–±–µ–¥ (${Math.round(data.calories * 0.35)} –∫–∫–∞–ª):\n`;
  advice += `‚Ä¢ ${data.gender === 'male' ? '200' : '150'}–≥ –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏ –∏–ª–∏ —Ä—ã–±—ã\n`;
  advice += `‚Ä¢ –ì—Ä–µ—á–∫–∞ –∏–ª–∏ —Ä–∏—Å (${Math.round(data.carbs * 0.3)}–≥)\n`;
  advice += `‚Ä¢ –û–≤–æ—â–Ω–æ–π —Å–∞–ª–∞—Ç\n\n`;
  
  advice += `–£–∂–∏–Ω (${Math.round(data.calories * 0.25)} –∫–∫–∞–ª):\n`;
  advice += `‚Ä¢ ${data.gender === 'male' ? '150' : '120'}–≥ –±–µ–ª–∫–∞ (—Ä—ã–±–∞, –∏–Ω–¥–µ–π–∫–∞, —Ç–≤–æ—Ä–æ–≥)\n`;
  advice += `‚Ä¢ –û–≤–æ—â–∏ –Ω–∞ –ø–∞—Ä—É –∏–ª–∏ —Å–∞–ª–∞—Ç\n\n`;
  
  advice += `–ü–µ—Ä–µ–∫—É—Å—ã (${Math.round(data.calories * 0.15)} –∫–∫–∞–ª):\n`;
  advice += `‚Ä¢ –¢–≤–æ—Ä–æ–≥, –æ—Ä–µ—Ö–∏, —Ñ—Ä—É–∫—Ç—ã, –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –∫–æ–∫—Ç–µ–π–ª—å\n\n`;

  advice += `‚è∞ –†–ï–ñ–ò–ú –ü–ò–¢–ê–ù–ò–Ø:\n`;
  advice += `‚Ä¢ –ó–∞–≤—Ç—Ä–∞–∫: —á–µ—Ä–µ–∑ 30-60 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è\n`;
  advice += `‚Ä¢ –û–±–µ–¥: —á–µ—Ä–µ–∑ 4-5 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞–∫–∞\n`;
  advice += `‚Ä¢ –£–∂–∏–Ω: –∑–∞ 2-3 —á–∞—Å–∞ –¥–æ —Å–Ω–∞\n`;
  advice += `‚Ä¢ –ü–µ—Ä–µ–∫—É—Å—ã: –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø—Ä–∏–µ–º–∞–º–∏ –ø–∏—â–∏\n\n`;

  advice += `üíß –í–û–î–ê:\n`;
  advice += `‚Ä¢ –ü–µ–π—Ç–µ 2-2.5 –ª–∏—Ç—Ä–∞ —á–∏—Å—Ç–æ–π –≤–æ–¥—ã –≤ –¥–µ–Ω—å\n`;
  advice += `‚Ä¢ –°—Ç–∞–∫–∞–Ω –≤–æ–¥—ã –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –µ–¥—ã\n`;
  advice += `‚Ä¢ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ—Ñ–µ –∏ —á–∞–π (–Ω–µ –±–æ–ª–µ–µ 2-3 —á–∞—à–µ–∫)\n\n`;

  advice += `‚ùå –ß–¢–û –ò–ó–ë–ï–ì–ê–¢–¨:\n`;
  advice += `‚Ä¢ –°–∞—Ö–∞—Ä –∏ —Å–ª–∞–¥–æ—Å—Ç–∏\n`;
  advice += `‚Ä¢ –§–∞—Å—Ç—Ñ—É–¥ –∏ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã\n`;
  advice += `‚Ä¢ –ê–ª–∫–æ–≥–æ–ª—å\n`;
  advice += `‚Ä¢ –°–ª–∞–¥–∫–∏–µ –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏\n`;
  advice += `‚Ä¢ –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç–∞–º–∏\n\n`;

  advice += `üîÑ –ö–ê–ö –ê–î–ê–ü–¢–ò–†–û–í–ê–¢–¨ –†–ê–¶–ò–û–ù:\n`;
  advice += `‚Ä¢ –ï—Å–ª–∏ –Ω–µ –Ω–∞–µ–¥–∞–µ—Ç–µ—Å—å: —É–≤–µ–ª–∏—á—å—Ç–µ –æ–≤–æ—â–∏ –∏ –±–µ–ª–æ–∫\n`;
  advice += `‚Ä¢ –ï—Å–ª–∏ –ø–µ—Ä–µ–µ–¥–∞–µ—Ç–µ: —É–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä—Ü–∏–∏ –Ω–∞ 10-15%\n`;
  advice += `‚Ä¢ –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞: –ø–µ—Ä–µ—Å—á–∏—Ç–∞–π—Ç–µ –∫–∞–ª–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ 2-3 –Ω–µ–¥–µ–ª–∏\n`;
  advice += `‚Ä¢ –í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è\n`;

  return advice;
}

/**
 * –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
 * –í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ –≤—ã–∑–æ–≤ AI API
 */
function generateTrainingStub(data: UserGoalData, prompt: string): string {
  const goalLabel = 
    data.goal === 'lose' ? '–ø–æ—Ö—É–¥–µ–Ω–∏–µ' :
    data.goal === 'gain' ? '–Ω–∞–±–æ—Ä –º–∞—Å—Å—ã' : '–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã';

  let advice = `–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º –¥–ª—è ${data.gender === 'male' ? '–º—É–∂—á–∏–Ω—ã' : '–∂–µ–Ω—â–∏–Ω—ã'} ${data.age} –ª–µ—Ç.\n\n`;

  const workoutsPerWeek = 
    data.activityLevel === 'low' ? 2 :
    data.activityLevel === 'medium' ? 4 : 6;

  if (data.goal === 'lose') {
    advice += `üéØ –¶–ï–õ–¨: –ü–û–•–£–î–ï–ù–ò–ï\n`;
    if (data.targetWeight) {
      advice += `–¶–µ–ª–µ–≤–æ–π –≤–µ—Å: ${data.targetWeight} –∫–≥\n`;
    }
    advice += `\nüí™ –°–ò–õ–û–í–´–ï –¢–†–ï–ù–ò–†–û–í–ö–ò:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: ${workoutsPerWeek} —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 45-60 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è-–≤—ã—Å–æ–∫–∞—è\n`;
    advice += `‚Ä¢ –§–æ–∫—É—Å: –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, –∂–∏–º—ã, —Ç—è–≥–∏)\n`;
    advice += `‚Ä¢ –ü–æ–¥—Ö–æ–¥—ã: 3-4 –ø–æ 8-12 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π\n`;
    advice += `‚Ä¢ –û—Ç–¥—ã—Ö –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏: 60-90 —Å–µ–∫—É–Ω–¥\n\n`;
    
    advice += `üèÉ –ö–ê–†–î–ò–û:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: ${workoutsPerWeek === 2 ? 3 : workoutsPerWeek === 4 ? 2 : 3} —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 30-45 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è (–ø—É–ª—å—Å 60-70% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞)\n`;
    advice += `‚Ä¢ –¢–∏–ø—ã: –±–µ–≥, –≤–µ–ª–æ—Å–∏–ø–µ–¥, —ç–ª–ª–∏–ø—Å, –ø–ª–∞–≤–∞–Ω–∏–µ\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: 1-2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é (20-30 –º–∏–Ω—É—Ç)\n\n`;
    
    advice += `üìÖ –ü–†–ò–ú–ï–†–ù–´–ô –ü–õ–ê–ù –ù–ï–î–ï–õ–ò:\n`;
    advice += `‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –°–∏–ª–æ–≤–∞—è (–≤–µ—Ä—Ö —Ç–µ–ª–∞)\n`;
    advice += `‚Ä¢ –í—Ç–æ—Ä–Ω–∏–∫: –ö–∞—Ä–¥–∏–æ 30-45 –º–∏–Ω\n`;
    advice += `‚Ä¢ –°—Ä–µ–¥–∞: –°–∏–ª–æ–≤–∞—è (–Ω–∏–∑ —Ç–µ–ª–∞)\n`;
    advice += `‚Ä¢ –ß–µ—Ç–≤–µ—Ä–≥: –ö–∞—Ä–¥–∏–æ 30-45 –º–∏–Ω\n`;
    advice += `‚Ä¢ –ü—è—Ç–Ω–∏—Ü–∞: –°–∏–ª–æ–≤–∞—è (–≤—Å–µ —Ç–µ–ª–æ)\n`;
    advice += `‚Ä¢ –°—É–±–±–æ—Ç–∞: –ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö (—Ö–æ–¥—å–±–∞, –π–æ–≥–∞)\n`;
    advice += `‚Ä¢ –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –û—Ç–¥—ã—Ö\n\n`;
  } else if (data.goal === 'gain') {
    advice += `üéØ –¶–ï–õ–¨: –ù–ê–ë–û–† –ú–ê–°–°–´\n`;
    advice += `\nüí™ –°–ò–õ–û–í–´–ï –¢–†–ï–ù–ò–†–û–í–ö–ò:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: ${workoutsPerWeek} —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 60-90 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è\n`;
    advice += `‚Ä¢ –§–æ–∫—É—Å: –±–∞–∑–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, –∂–∏–º –ª–µ–∂–∞, —Å—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞)\n`;
    advice += `‚Ä¢ –ü–æ–¥—Ö–æ–¥—ã: 4-5 –ø–æ 6-10 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π\n`;
    advice += `‚Ä¢ –û—Ç–¥—ã—Ö –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏: 2-3 –º–∏–Ω—É—Ç—ã\n`;
    advice += `‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è: —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –≤–µ—Å –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é\n\n`;
    
    advice += `üèÉ –ö–ê–†–î–ò–û:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: 1-2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é (–ª–µ–≥–∫–æ–µ)\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 20-30 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: –Ω–∏–∑–∫–∞—è (–ø—É–ª—å—Å 50-60% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞)\n`;
    advice += `‚Ä¢ –¶–µ–ª—å: –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–¥—Ü–∞, –Ω–µ —Å–∂–∏–≥–∞–Ω–∏–µ –∫–∞–ª–æ—Ä–∏–π\n\n`;
    
    advice += `üìÖ –ü–†–ò–ú–ï–†–ù–´–ô –ü–õ–ê–ù –ù–ï–î–ï–õ–ò:\n`;
    advice += `‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –ì—Ä—É–¥—å + —Ç—Ä–∏—Ü–µ–ø—Å\n`;
    advice += `‚Ä¢ –í—Ç–æ—Ä–Ω–∏–∫: –°–ø–∏–Ω–∞ + –±–∏—Ü–µ–ø—Å\n`;
    advice += `‚Ä¢ –°—Ä–µ–¥–∞: –ù–æ–≥–∏ + –ø–ª–µ—á–∏\n`;
    advice += `‚Ä¢ –ß–µ—Ç–≤–µ—Ä–≥: –û—Ç–¥—ã—Ö\n`;
    advice += `‚Ä¢ –ü—è—Ç–Ω–∏—Ü–∞: –ì—Ä—É–¥—å + —Ç—Ä–∏—Ü–µ–ø—Å\n`;
    advice += `‚Ä¢ –°—É–±–±–æ—Ç–∞: –°–ø–∏–Ω–∞ + –±–∏—Ü–µ–ø—Å\n`;
    advice += `‚Ä¢ –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –û—Ç–¥—ã—Ö\n\n`;
  } else {
    advice += `üéØ –¶–ï–õ–¨: –ü–û–î–î–ï–†–ñ–ê–ù–ò–ï –§–û–†–ú–´\n`;
    advice += `\nüí™ –°–ò–õ–û–í–´–ï –¢–†–ï–ù–ò–†–û–í–ö–ò:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: ${workoutsPerWeek} —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 45-60 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è\n`;
    advice += `‚Ä¢ –§–æ–∫—É—Å: –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã –∏ —Å–∏–ª—ã\n`;
    advice += `‚Ä¢ –ü–æ–¥—Ö–æ–¥—ã: 3-4 –ø–æ 10-15 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π\n`;
    advice += `‚Ä¢ –û—Ç–¥—ã—Ö –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏: 60-90 —Å–µ–∫—É–Ω–¥\n\n`;
    
    advice += `üèÉ –ö–ê–†–î–ò–û:\n`;
    advice += `‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞: 2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é\n`;
    advice += `‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 30-40 –º–∏–Ω—É—Ç\n`;
    advice += `‚Ä¢ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è\n`;
    advice += `‚Ä¢ –¢–∏–ø—ã: –±–µ–≥, –≤–µ–ª–æ—Å–∏–ø–µ–¥, –ø–ª–∞–≤–∞–Ω–∏–µ, –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è\n\n`;
    
    advice += `üìÖ –ü–†–ò–ú–ï–†–ù–´–ô –ü–õ–ê–ù –ù–ï–î–ï–õ–ò:\n`;
    advice += `‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –°–∏–ª–æ–≤–∞—è (–≤–µ—Ä—Ö)\n`;
    advice += `‚Ä¢ –í—Ç–æ—Ä–Ω–∏–∫: –ö–∞—Ä–¥–∏–æ\n`;
    advice += `‚Ä¢ –°—Ä–µ–¥–∞: –°–∏–ª–æ–≤–∞—è (–Ω–∏–∑)\n`;
    advice += `‚Ä¢ –ß–µ—Ç–≤–µ—Ä–≥: –û—Ç–¥—ã—Ö\n`;
    advice += `‚Ä¢ –ü—è—Ç–Ω–∏—Ü–∞: –°–∏–ª–æ–≤–∞—è (–≤—Å–µ —Ç–µ–ª–æ)\n`;
    advice += `‚Ä¢ –°—É–±–±–æ—Ç–∞: –ö–∞—Ä–¥–∏–æ –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö\n`;
    advice += `‚Ä¢ –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –û—Ç–¥—ã—Ö\n\n`;
  }

  advice += `üõå –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï:\n`;
  advice += `‚Ä¢ –°–æ–Ω: 7-9 —á–∞—Å–æ–≤ –∫–∞–∂–¥—É—é –Ω–æ—á—å\n`;
  advice += `‚Ä¢ –û—Ç–¥—ã—Ö –º–µ–∂–¥—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏: –º–∏–Ω–∏–º—É–º 48 —á–∞—Å–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –º—ã—à—Ü\n`;
  advice += `‚Ä¢ –†–∞—Å—Ç—è–∂–∫–∞: 10-15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏\n`;
  advice += `‚Ä¢ –ú–∞—Å—Å–∞–∂: —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è\n\n`;

  advice += `‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø:\n`;
  advice += `‚Ä¢ –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–µ–≥–∫–∏—Ö –≤–µ—Å–æ–≤ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É\n`;
  advice += `‚Ä¢ –ü—Ä–∏ –±–æ–ª—è—Ö –≤ —Å—É—Å—Ç–∞–≤–∞—Ö –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É\n`;
  advice += `‚Ä¢ –†–∞–∑–º–∏–Ω–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π (5-10 –º–∏–Ω—É—Ç)\n`;
  advice += `‚Ä¢ –ó–∞–º–∏–Ω–∫–∞ –∏ —Ä–∞—Å—Ç—è–∂–∫–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (10-15 –º–∏–Ω—É—Ç)\n`;
  advice += `‚Ä¢ –ü–µ–π—Ç–µ –≤–æ–¥—É –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏\n`;
  if (data.age > 40) {
    advice += `‚Ä¢ –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç: –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑–º–∏–Ω–∫—É –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ\n`;
  }

  return advice;
}

