# Инструкция по настройке заметок к продуктам

## Проблема: Таблица meal_entry_notes не найдена

Если вы видите ошибку `PGRST205: Could not find the table 'public.meal_entry_notes'`, это означает, что таблица не создана в Supabase.

## Решение:

### Шаг 1: Откройте Supabase Dashboard
1. Перейдите на [supabase.com](https://supabase.com)
2. Войдите в свой проект
3. Откройте **SQL Editor** в левом меню

### Шаг 2: Выполните SQL схему
1. Скопируйте содержимое файла `supabase/meal_entry_notes_schema.sql`
2. Вставьте в SQL Editor
3. Нажмите **Run** (или `Ctrl+Enter` / `Cmd+Enter`)

### Шаг 3: Проверьте создание таблицы
Выполните запрос для проверки:
```sql
SELECT * FROM public.meal_entry_notes LIMIT 1;
```

Если таблица создана успешно, запрос вернёт пустой результат (или данные, если они есть).

### Шаг 4: Обновите страницу приложения
После создания таблицы обновите страницу приложения в браузере.

## Структура таблицы

Таблица `meal_entry_notes` содержит:
- `id` - уникальный идентификатор заметки
- `user_id` - ID пользователя (UUID)
- `meal_entry_id` - ID записи приёма пищи (UUID)
- `product_id` - ID продукта (опционально)
- `text` - текст заметки
- `created_at` - дата создания
- `updated_at` - дата обновления

## Безопасность

Таблица настроена БЕЗ RLS (Row Level Security) для работы с локальной авторизацией.
В продакшене рекомендуется включить RLS и использовать Supabase Auth.

